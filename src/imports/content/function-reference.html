<h3>function reference.</h3>

			<p>
				Functions are helpers that can be placed in:
			</p>
			
			<ul>
				<li>evaluations</li>
				<li>set commands</li>
				<li>loop commands</li>
				<li>if commands</li>
			</ul>

			<p>
				And can be arbitrarily nested
			</p>

			<p>
				The list of available commands are as follows - which can be output by <code>{pre {dumpfunctions} pre}</code>
			</p>

<pre><code>{dumpfunctions}</code></pre>

			<p><strong>Creating your own function</strong></p>

			<p>
				The functions should be fairly explanatory from the above list.  However you may wish to add your own function, 
				the example shown here is taken from <a href="https://github.com/synapticloop/h2zero/">h2zero</a> <a href="https://github.com/synapticloop/h2zero/blob/master/src/main/java/synapticloop/h2zero/templar/function/FunctionRequiresImport.java">FunctionRequiresImport.java</a>.
				(with a lot more comments than are in the source)
			</p>

<pre class="prettyprint lang-java"><code>{pre
package synapticloop.h2zero.templar.function;

import synapticloop.h2zero.model.BaseSchemaObject;
import synapticloop.templar.exception.FunctionException;
import synapticloop.templar.function.Function;
import synapticloop.templar.utils.ObjectUtils;
import synapticloop.templar.utils.TemplarContext;

public class FunctionRequiresImport extends Function {
	public static final String FUNCTION_NAME = "requiresImport";

	public FunctionRequiresImport() {
		// here we register the fixed number of arguments that are required
		super(2);
	}

	@Override
	public Object evaluate(Object[] args, TemplarContext templarContext) throws FunctionException {
		if(verifyArgumentLength(args)) {
			// do we have the correct number of arguments passed through?
			Object tableObject = null;
			if(args[0] instanceof BaseSchemaObject) {
				tableObject = args[0];
			} else {
				// the evaluateObjectToDefault should be the call that is used, this will de-quote any strings
				// and return them, or else it will look up the expression in the templarContext
				tableObject = ObjectUtils.evaluateObjectToDefault(args[0].toString(), templarContext);
			}

			Object fieldTypeObject = ObjectUtils.evaluateObjectToDefault(args[1], templarContext);

			if(tableObject instanceof BaseSchemaObject && fieldTypeObject instanceof String) {
				BaseSchemaObject baseSchemaObject = (BaseSchemaObject)tableObject;
				String fieldType = (String)fieldTypeObject;

				// here we are returning a boolean object for use in an {if fn:requiresImport[__class__, __import_package_name__]}
				// which if true, will then output everything up until the {else} or {endif} tokens

				return(baseSchemaObject.requiresImport(fieldType));
			} else {
				throw new FunctionException("The function '" + FUNCTION_NAME + "' takes exactly two arguments, which must be of type ['" + BaseSchemaObject.class.getCanonicalName() + "', '" + String.class.getCanonicalName() + "'], found arguments of ['" + tableObject.getClass().getCanonicalName() + "', '" + fieldTypeObject.getClass().getCanonicalName() + "']." );
			}
		} else {
			// at this point - we did not have the correct number of arguments
			throw new FunctionException("The function '" + FUNCTION_NAME + "' takes exactly 2 arguments.");
		}
	}

}
pre}</code></pre>

		<p>Once you have written your own function, you then need to add it to the templarContext for it to be callable</p>

<pre class="prettyprint lang-java"><code>{pre
TemplarConfiguration templarConfiguration = new TemplarConfiguration();
templarConfiguration.setExplicitNewLines(true);
templarConfiguration.setExplicitTabs(true);

TemplarContext templarContext = new TemplarContext(templarConfiguration);

if(!templarContext.hasFunction("requiresImport")) {
	templarContext.addFunction("requiresImport", new FunctionRequiresImport());
}
pre}</code></pre>
