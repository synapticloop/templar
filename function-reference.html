<!doctype html><html><head><title>templar by synapticloop</title><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]--><link rel="stylesheet" href="assets/css/main.css" /><!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]--><script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script></head><body><div id="header"><h1 id="logo"><a href="http://synapticloop.github.io/">Synapticloop</a> :: <a href="index.html">templar</a></h1><nav id="nav"><ul><li><a href="#">Projects</a><ul><li><a href="https://synapticloop.github.io/h2zero/"><i class="icon fa-database"></i> h2zero</a></li><li><a href="https://github.com/synapticloop/backblaze-b2-java-api/"><i class="icon fa-puzzle-piece"></i> backblaze b2 java api</a></li><li><a href="https://synapticloop.github.io/templar/"><i class="icon fa-shield"></i> templar</a></li><li><a href="https://synapticloop.github.io/templar-gen/"><i class="icon fa-gears"></i> templar gen</a></li><li><a href="https://synapticloop.github.io/linode-api/"><i class="icon fa-puzzle-piece"></i> linode java api</a></li><li><a href="https://github.com/synapticloopltd/scaleway-java-api/"><i class="icon fa-puzzle-piece"></i> scaleway java api</a></li><li><a href="https://synapticloopltd.github.io/newznab-api/"><i class="icon fa-puzzle-piece"></i> newznab java api</a></li><li><a href="https://synapticloopltd.github.io/gradle-plugin-java-create/"><i class="icon fa-gears"></i> gradle plugin creator for java</a></li><li><a href="https://synapticloopltd.github.io/recipease/"><i class="icon fa-spoon"></i> recipease</a></li><li><a href="https://synapticloop.github.io/routemaster/"><i class="icon fa-bus"></i> routemaster</a></li></ul></li></ul></nav></div><section id="banner"><h2>Welcome to templar</h2><p>an easy to use, ultra light-weight, templating engine</p></section><section id="main"><div class="container"><div class="row 200%"><div class="4u 12u$(medium)"><section id="sidebar"><section><h3>templar</h3><p>an easy to use, ultra light-weight, templating engine</p><hr /><ul><li><a href="index.html">Home</a></li><li><a href="quick-start.html">Quick Start</a></li><li><a href="rendering.html">Rendering</a></li><li><a href="syntax-reference.html">Syntax Reference</a></li><li><a href="function-reference.html">Function Reference</a></li></ul></section><hr /><section><h3>View this project on github</h3><footer><ul class="actions"><li><a href="https://github.com/synapticloop/templar" class="button small alt">GitHub Project</a></li></ul></footer></section><hr /><section>
	<h3>templar-gen</h3>
	<p>
		This project is maintained by <a href="https://github.com/synapticloop">synapticloop</a> 
		and these pages were generated with 
		<a href="https://github.com/synapticloop/templar-gen/">synapticloop templar-gen</a>
	</p>
</section>
</section></div><div class="8u$ 12u$(medium) important(medium)"><section id="content"><h3>function reference.</h3><p>Functions are helpers that can be placed in:</p><ul><li><code>evaluation</code>s</li><li><code>set</code> commands</li><li><code>loop</code> commands</li><li><code>if</code> commands</li></ul><p>And each of the functions can be arbitrarily nested</p><p>The list of available commands are as follows - which can be output by <code>{dumpfunctions}</code></p><pre><code>FunctionLessThanEqual fn:<=[ <#numArgs: 2> ] aliased as (lte)
FunctionNotEqual fn:<>[ <#numArgs: 2> ] aliased as (notEqual, ne, not=)
FunctionInstanceOf fn:instanceOf[ <#numArgs: 2> ]
FunctionAnd fn:and[ <#numArgs: 2> ]
FunctionIndexOf fn:indexOf[ <#numArgs: 2> ]
FunctionPower fn:^[ <#numArgs: 2> ]
FunctionOr fn:or[ <#numArgs: 2> ]
FunctionIsNotNull fn:notNull[ <#numArgs: 1> ] aliased as (isNotNull, !null, isnotnull, notnull, !Null)
FunctionFormatDate fn:fmtDate[ <#numArgs: 1 or 2> ]
FunctionModulus fn:%[ <#numArgs: 2> ]
FunctionAnd fn:&[ <#numArgs: 2> ]
FunctionLength fn:length[ <#numArgs: 1> ] aliased as (size)
FunctionFalse fn:false[ <#numArgs: 1> ]
FunctionMultiply fn:*[ <#numArgs: 2> ]
FunctionAdd fn:+[ <#numArgs: 2> ]
FunctionSubtract fn:-[ <#numArgs: 2> ]
FunctionOdd fn:odd[ <#numArgs: 1> ]
FunctionDivide fn:/[ <#numArgs: 2> ]
FunctionToJson fn:toJson[ <#numArgs: 1> ]
FunctionIsNull fn:null[ <#numArgs: 1> ] aliased as (isnull, isNull)
FunctionEven fn:even[ <#numArgs: 1> ]
FunctionTrue fn:true[ <#numArgs: 1> ]
FunctionLessThan fn:<[ <#numArgs: 2> ] aliased as (lt)
FunctionOr fn:|[ <#numArgs: 2> ]
FunctionEqual fn:=[ <#numArgs: 2> ] aliased as (eq, equal)
FunctionGreaterThan fn:>[ <#numArgs: 2> ] aliased as (gt)
FunctionGreaterThanEqual fn:>=[ <#numArgs: 2> ] aliased as (gt=)
</code></pre><p><strong>Creating your own function</strong></p><p>The functions should be fairly explanatory from the above list.  However you may wish to add your own function, the example shown here is taken from <a href="https://github.com/synapticloop/h2zero/">h2zero</a> <a href="https://github.com/synapticloop/h2zero/blob/master/src/main/java/synapticloop/h2zero/templar/function/FunctionRequiresImport.java">FunctionRequiresImport.java</a>.(with a lot more comments than are in the source)</p><pre class="prettyprint lang-java"><code>package synapticloop.h2zero.templar.function;

import synapticloop.h2zero.model.BaseSchemaObject;
import synapticloop.templar.exception.FunctionException;
import synapticloop.templar.function.Function;
import synapticloop.templar.utils.ObjectUtils;
import synapticloop.templar.utils.TemplarContext;

public class FunctionRequiresImport extends Function {
	public static final String FUNCTION_NAME = "requiresImport";

	public FunctionRequiresImport() {
		// here we register the fixed number of arguments that are required
		super(2);
	}

	@Override
	public Object evaluate(Object[] args, TemplarContext templarContext) throws FunctionException {
		if(verifyArgumentLength(args)) {
			// do we have the correct number of arguments passed through?
			Object tableObject = null;
			if(args[0] instanceof BaseSchemaObject) {
				tableObject = args[0];
			} else {
				// the evaluateObjectToDefault should be the call that is used, this will de-quote any strings
				// and return them, or else it will look up the expression in the templarContext
				tableObject = ObjectUtils.evaluateObjectToDefault(args[0].toString(), templarContext);
			}

			Object fieldTypeObject = ObjectUtils.evaluateObjectToDefault(args[1], templarContext);

			if(tableObject instanceof BaseSchemaObject && fieldTypeObject instanceof String) {
				BaseSchemaObject baseSchemaObject = (BaseSchemaObject)tableObject;
				String fieldType = (String)fieldTypeObject;

				// here we are returning a boolean object for use in an {if fn:requiresImport[__class__, __import_package_name__]}
				// which if true, will then output everything up until the {else} or {endif} tokens

				return(baseSchemaObject.requiresImport(fieldType));
			} else {
				throw new FunctionException("The function '" + FUNCTION_NAME + "' takes exactly two arguments, which must be of type ['" + BaseSchemaObject.class.getCanonicalName() + "', '" + String.class.getCanonicalName() + "'], found arguments of ['" + tableObject.getClass().getCanonicalName() + "', '" + fieldTypeObject.getClass().getCanonicalName() + "']." );
			}
		} else {
			// at this point - we did not have the correct number of arguments
			throw new FunctionException("The function '" + FUNCTION_NAME + "' takes exactly 2 arguments.");
		}
	}

}</code></pre><p>Once you have written your own function, you then need to add it to the templarContext for it to be callable</p><pre class="prettyprint lang-java"><code>TemplarConfiguration templarConfiguration = new TemplarConfiguration();
templarConfiguration.setExplicitNewLines(true);
templarConfiguration.setExplicitTabs(true);

TemplarContext templarContext = new TemplarContext(templarConfiguration);

if(!templarContext.hasFunction("requiresImport")) {
	templarContext.addFunction("requiresImport", new FunctionRequiresImport());
}</code></pre><p>Note that this will throw a <code>FunctionExeption</code> if the function name already exists.</p></section></div></div></div></section><div id="footer">
	<div class="container">
		<div class="row 200% uniform">
		</div>
	</div>
	<div class="copyright">
		&copy; Synapticloop. All rights reserved.
	</div>
	<div class="copyright">
		This page uses the 
		<a href="https://pixelarity.com/gravity?ref=4951149295">Gravity</a> 
		commercial template from 
		<a href="https://pixelarity.com/?ref=4951149295">Pixelarity</a> 
		which we thoroughly recommend.
		</div>
</div>
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/skel.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.onvisible.min.js"></script>
<script src="assets/js/jquery.poptrox.min.js"></script>
<script src="assets/js/util.js"></script>
<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
<script src="assets/js/main.js"></script>

<script type="text/javascript">
	var _paq = _paq || [];
	_paq.push(['trackPageView']);
	_paq.push(['enableLinkTracking']);
	(function() {
		var u="//piwik.synapticloop.com/";
		_paq.push(['setTrackerUrl', u+'piwik.php']);
		_paq.push(['setSiteId', 13]);
		var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	})();
</script>
<noscript><p><img src="//piwik.synapticloop.com/piwik.php?idsite=13" style="border:0;" alt="" /></p></noscript>
<script src="javascripts/prettify.js" type="text/javascript" ></script>
</body></html>